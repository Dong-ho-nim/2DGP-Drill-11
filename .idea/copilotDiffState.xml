<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/game_world.py">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/game_world.py" />
              <option name="originalContent" value="world = [[] for _ in range(4)]&#10;collision_pairs = {}&#10;&#10;def add_collision_pair(group, a, b):&#10;    if group not in collision_pairs:&#10;        print(f'Added new group {group}')&#10;        collision_pairs[group] = [[], []]&#10;    if a:&#10;        collision_pairs[group][0].append(a)&#10;    if b:&#10;        collision_pairs[group][1].append(b)&#10;&#10;def remove_collision_object(o):&#10;    for pairs in collision_pairs.values():&#10;        if o in pairs[0]:&#10;            pairs[0].remove(o)&#10;        if o in pairs[1]:&#10;            pairs[1].remove(o)&#10;&#10;def handle_collisions():&#10;    for group, pairs in collision_pairs.items():&#10;        for a in pairs[0]:&#10;            for b in pairs[1]:&#10;                if collide(a, b):&#10;                    a.handle_collision(group, b)&#10;                    b.handle_collision(group, a)&#10;&#10;&#10;def add_object(o, depth = 0):&#10;    world[depth].append(o)&#10;&#10;&#10;def add_objects(ol, depth = 0):&#10;    world[depth] += ol&#10;&#10;&#10;def update():&#10;    for layer in world:&#10;        for o in layer:&#10;            o.update()&#10;&#10;&#10;def render():&#10;    for layer in world:&#10;        for o in layer:&#10;            o.draw()&#10;&#10;def collide(a, b):&#10;    left_a, bottom_a, right_a, top_a = a.get_bb()&#10;    left_b, bottom_b, right_b, top_b = b.get_bb()&#10;&#10;    if left_a &gt; right_b: return False&#10;    if right_a &lt; left_b: return False&#10;    if top_a &lt; bottom_b: return False&#10;    if bottom_a &gt; top_b: return False&#10;&#10;    return True&#10;    pass&#10;&#10;def remove_object(o):&#10;    for layer in world:&#10;        if o in layer:&#10;            layer.remove(o)&#10;            remove_collision_object(o)&#10;            return&#10;    raise ValueError('Cannot delete non existing object')&#10;&#10;&#10;def clear():&#10;    for layer in world:&#10;        layer.clear()&#10;&#10;&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="world = [[] for _ in range(4)]&#10;collision_pairs = {}&#10;&#10;def add_collision_pair(group, a, b):&#10;    if group not in collision_pairs:&#10;        print(f'Added new group {group}')&#10;        collision_pairs[group] = [[], []]&#10;    # 중복 추가 방지&#10;    if a and a not in collision_pairs[group][0]:&#10;        collision_pairs[group][0].append(a)&#10;    if b and b not in collision_pairs[group][1]:&#10;        collision_pairs[group][1].append(b)&#10;&#10;def remove_collision_object(o):&#10;    for pairs in collision_pairs.values():&#10;        if o in pairs[0]:&#10;            pairs[0].remove(o)&#10;        if o in pairs[1]:&#10;            pairs[1].remove(o)&#10;&#10;def handle_collisions():&#10;    for group, pairs in collision_pairs.items():&#10;        # 복사본을 순회하여 충돌 처리 중 목록 변경에도 안전&#10;        for a in list(pairs[0]):&#10;            for b in list(pairs[1]):&#10;                if collide(a, b):&#10;                    a.handle_collision(group, b)&#10;                    b.handle_collision(group, a)&#10;&#10;&#10;def add_object(o, depth = 0):&#10;    world[depth].append(o)&#10;&#10;&#10;def add_objects(ol, depth = 0):&#10;    world[depth] += ol&#10;&#10;&#10;def update():&#10;    for layer in world:&#10;        for o in layer:&#10;            o.update()&#10;&#10;&#10;def render():&#10;    for layer in world:&#10;        for o in layer:&#10;            o.draw()&#10;&#10;def collide(a, b):&#10;    left_a, bottom_a, right_a, top_a = a.get_bb()&#10;    left_b, bottom_b, right_b, top_b = b.get_bb()&#10;&#10;    if left_a &gt; right_b: return False&#10;    if right_a &lt; left_b: return False&#10;    if top_a &lt; bottom_b: return False&#10;    if bottom_a &gt; top_b: return False&#10;&#10;    return True&#10;    pass&#10;&#10;def remove_object(o):&#10;    # 레이어에서 제거 시도&#10;    for layer in world:&#10;        if o in layer:&#10;            layer.remove(o)&#10;            remove_collision_object(o)&#10;            return&#10;    # 레이어에 없어도 충돌 목록에서 제거만 하고 조용히 반환&#10;    remove_collision_object(o)&#10;    return&#10;&#10;&#10;def clear():&#10;    for layer in world:&#10;        layer.clear()&#10;    collision_pairs.clear()" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>